(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),s=(a(29),a(5)),l=a(6),i=a(8),m=a(7),u=a(9),h=(a(30),a(12)),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.id,n=e.father,c=e.mother,o=e.books;return r.a.createElement(h.b,{to:{pathname:"/profile",state:{characterId:a,father:n,mother:c,books:o}}},r.a.createElement("div",{className:"tc bg-light-green dib br3 pa2 ma2 grow "},r.a.createElement("img",{src:"https://robohash.org/".concat(a),alt:"user"}),r.a.createElement("div",null,r.a.createElement("p",{className:"f4 b helvetica"},t))))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={Users:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.anapioficeandfire.com/api/characters?page=2&pageSize=50").then(function(e){return e.json()}).then(function(t){return e.setState({Users:t})})}},{key:"render",value:function(){var e=this.state.Users;return e.map(function(t,a){return r.a.createElement(p,{key:e[a].url,name:e[a].name,id:e[a].url,father:e[a].father,mother:e[a].mother,books:e[a].books})})}}]),t}(n.Component),f=(a(35),a(10)),d=a(23),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={name:"",culture:"",born:"",died:"",titles:[],aliases:[],father:"",mother:"",books:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("state")&&this.setState({state:JSON.parse(localStorage.getItem("state"))})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.characterId,a=this.props.location.state.father,n=this.props.location.state.mother,r=this.props.location.state.books;fetch(t).then(function(e){return e.json()}).then(function(t){return e.setState({name:t.name,culture:t.culture,born:t.born,died:t.died,titles:t.titles,aliases:t.aliases})}),fetch(a).then(function(e){return e.json()}).then(function(t){return e.setState({father:t.name})}).catch(function(e){console.log("invalid father character id")}),fetch(n).then(function(e){return e.json()}).then(function(t){return e.setState({mother:t.name})}).catch(function(e){console.log("invalid mother charcater id")}),Promise.all(r.map(function(e){return fetch(e).then(function(e){return e.json()})})).then(function(t){t.map(function(a,n){return e.setState(function(e){return{books:[].concat(Object(d.a)(e.books),[t[n].name])}})})})}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("state",JSON.stringify(this.state)),localStorage.setItem("statedate",Date.now())}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.culture,n=e.born,c=e.died,o=e.titles,s=e.aliases,l=e.father,i=e.mother,m=e.books;return r.a.createElement("div",{className:"f3 garamond "},r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Name:")," ",t),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Culture:")," ",a),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Born: "),n),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Died:")," ",c),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Titles:")," ",o),r.a.createElement("p",{className:"ba "}," ",r.a.createElement("span",{className:"b"},"Aliases:")," ",s),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Father:")," ",l),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Mother: "),i),r.a.createElement("p",{className:"ba "},r.a.createElement("span",{className:"b"},"Books:")," ",m))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/profile",component:E}),r.a.createElement(f.a,{exact:!0,path:"/",component:b})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h.a,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.c36f769c.chunk.js.map